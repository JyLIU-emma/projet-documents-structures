<?xml version="1.0" encoding="UTF-8"?>
<div xmlns="http://www.w3.org/1999/xhtml" data-template="templates:surround" data-template-with="templates/page.html" data-template-at="content">
    
<!--    js pour compter les matchs-->
    <script>
        $( document ).ready(function() {
        var hits = ($('tr').length - 1);
        if (hits == 1){
        $("#hitcount").text(hits+" Hit");
        }
        else {
        $("#hitcount").text(hits+" Hits");
        }
        });     
    </script>

<!--form pour donner des metadonnees des fichiers-->
    <div align="center">
        <h1>Page de recherche</h1>
    </div>
    <form action="" method="post">
        <div class="input-group">
            <label for="queryMeta">Entrez l'info meta (case-insensitive) : </label>
            <input name="queryMeta"/>
            <input type="radio" id="title" name="infotype" value="titre"/>
            <label for="infotype">Titre </label>
            <input type="radio" id="author" name="infotype" value="auteur"/>
            <label for="infotype">auteur </label>
            <input type="radio" id="none" name="infotype" value="no-info" checked="checked"/>
            <label for="infotype">Aucune idée</label>
            <br/>
            <label for="date">Date de publicataion(dd/mm/yyyy) : </label>
            <input name="date" pattern="^\D*(\d{2})\D*(\d{2})\D*(\d{4})\D*$"/>
            <input type="radio" id="before" name="date-comp" value="avant" checked="checked"/>
            <label for="date-comp">Avant </label>
            <input type="radio" id="after" name="date-comp" value="apres"/>
            <label for="date-comp">Après </label>
            <input type="radio" id="no-date-info" name="date-comp" value="no-info"/>
            <label for="date-comp">Aucune idée sur la date de publication</label>
        </div>
        <button type="submit" class="btn btn-primary">Go!</button>
    </form>

<!--    partie pour montrer le resultat de la premiere recherche-->
    <div data-template="search:meta"/>
    <h3>Document trouvé : </h3>
    <div data-template="search:res"/>
    <hr/>
    
<!--    partie de form pour donner le mot à chercher-->
    <div>
        <form>
            <label for="queryFile">Choisissez le/les documents à fouiller : </label>
            <div data-template="search:liste"/>
            <br/>
            <label for="queryWord">Mot clef (case-insensitive) : </label>
            <input name="queryWord" type="text"/>
            
            <button type="submit" class="btn btn-primary">Search</button>
        </form>
        <hr/>  
    </div>
    
<!--    partie pour montrer le résultat de recherche-->
    <div>
        <h2>
            <span id="hitcount"/> pour <b data-template="search:word"/>
        </h2>  
        <table>
            <thead>
                <tr>
                    <th>Avant</th>
                    <th width="80">Mot clé</th>
                    <th>Après</th>
                </tr>
            </thead>
            <tbody>
                <tr data-template="search:pleintexte"/>  
            </tbody>
        </table>
    </div>
    
</div>